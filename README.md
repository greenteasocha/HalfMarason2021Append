# RECRUIT 日本橋ハーフマラソン 2021〜増刊号〜
https://atcoder.jp/contests/rcl-contest-2021-long

## ファイル構成
**main.py**
主にシミュレータが入っている  
シミュレータの外部からできる操作は以下のとおり
- init: 入力ファイルを読み込ませる
- reset: 盤面の状態やスコア、ターン数を初期化する。ファイルは読み込まない
- step: 引数に操作を表す配列を渡してターンを一つ進める
- 各種プロパティ: 判断に必要な各種状態などは取得飲みできる

**Solvers.py**  
ソルバが入っている
提出の際はソルバクラスをmain.pyにコピペして提出

## 解法についての覚書
今回は初参加で書くほどの考察もなかったので省略

## シミュレータ実装上の覚書
やってみたこと  
- 入力ファイルや操作列のassertを随所に設定  
  これは良かったので次回以降も入れる
  
- データクラスっぽいものの作成  
  バリデーションとかバグ切り分けに若干役立ってそうだったけど冗長だったかも  
  数日あるコンテストだったらこれくらいしてもいいのかな
    
- 連結判定やバリデーション実行などのヘルパーメソッドとしての切り出し 
  これもコンテスト時間が短くて面倒とかでなければあっていいかな  
  汎用的なものを抜き出したつもりなので、他のコンテストでも流用していくといのが本番っぽい  
  
- getter, setterの設定 
  これは正直いらんかったかも
  というのもマラソンくらいの規模なら関連コードはすべて管理しているので、意味不明な場所からアクセスされるとかはたぶんない  
  逆にデコレータを使うことがPypyのコンパイルを邪魔していたりしないか？という疑いがある(全然検証してないので嘘かも)
  
  
次からやること  
- stateの管理
  最初は愚直に二次元配列で管理していたのだが、辞書型とかにすると改善があるのではないかとか思っていた。  
  が、そうすると中身へのアクセス方法が変わる(たとえばstate[y][x]からstate[y<<32 + x]みたいな感じに)  
  なので初めにget, set, iterate_allくらいの機能をもったインターフェースを設定してそこに隠す感じにするのが良かったかも  
  あと1/0ならbitで管理するのが良いとか
  

  
  

